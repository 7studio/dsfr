////
/// Accordions Module
/// @group accordions
////

#{ns(accordion)} {
  position: relative;

  // add heading style for accessibility concerns and reset margins
  @include title {
    @at-root :root #{&} {
      @include margin(0);
    }
  }

  @include _nest-link(accordion__btn, md, right, add-line, null, false, $ac-btn-settings, false, true) {
    @include _reset-links-tags(button);
    @include size(100%);
    text-align: left;

    @include before {
      @include margin-right(0);
      @include margin-left(auto);
    }

    &[aria-expanded="true"] {
      @include font-weight('bold');
      border: 0;

      @include before {
        @include font-icon-content(subtract-line);
      }
    }
    @include padding(3v 0);
    @include padding(3v 4v, md);
  }

  #{ns(collapse)} {
    @include margin(0 -1v, md);
    @include padding-x(4v, md);

    transition: visibility 0.3s, padding 0.3s;

    &--expanded {
      @include padding-top(4v);
      @include padding-bottom(6v);
    }
  }
}

#{ns-group(accordions)} {
  @extend %list-reset;

  & > * > #{ns(accordion)},
  & > #{ns(accordion)} {
    border-bottom: 0;
  }
}
